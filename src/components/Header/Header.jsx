"use client"
import { useState } from "react";
import s from "./Header.module.scss";
import Openedmenu from "../Openedmenu/Openedmenu";
import Search from "@/components/Search/Search";
import { useAppDispatch } from "@/hooks/redux";
import { setNotificate } from "@/store/menu/menuSlice";

export default function Header() {
  const dispatch = useAppDispatch();
  const [search, setSearch] = useState(false);
  const [menu, setMenu] = useState(false);

  const changSearch = () => {
    !search ? setSearch(true) : setSearch(false);
    setMenu(false)
  }
  const changMenu = () => {
    !menu ? setMenu(true) : setMenu(false);
    setSearch(false)
  }
  //function for open Notificate
  const openNotificate = () => {
    dispatch(setNotificate(true))
  }

  return (
    <header className={s.header}>
      <div className={s.header__wrapper}>
        <div className={s.header__burgerBox} onClick={changMenu}>
          <span className={`${s.header__burger} ${menu ? `${s.header__burgerActive}` : ''}`}></span>
        </div>
        <svg
          width="117"
          height="23"
          viewBox="0 0 117 23"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M0.517045 18V0.545454H12.2784V3.58807H4.20739V7.74716H11.6733V10.7898H4.20739V14.9574H12.3125V18H0.517045ZM16.4771 18.2472C15.6419 18.2472 14.8976 18.1023 14.2442 17.8125C13.5908 17.517 13.0737 17.0824 12.693 16.5085C12.318 15.929 12.1305 15.2074 12.1305 14.3438C12.1305 13.6165 12.2641 13.0057 12.5311 12.5114C12.7982 12.017 13.1618 11.6193 13.622 11.3182C14.0822 11.017 14.605 10.7898 15.1902 10.6364C15.7811 10.483 16.4004 10.375 17.0482 10.3125C17.8095 10.233 18.4232 10.1591 18.8891 10.0909C19.355 10.017 19.693 9.90909 19.9033 9.76705C20.1135 9.625 20.2186 9.41477 20.2186 9.13636V9.08523C20.2186 8.54545 20.0482 8.12784 19.7072 7.83239C19.372 7.53693 18.8947 7.3892 18.2754 7.3892C17.622 7.3892 17.1021 7.53409 16.7158 7.82386C16.3294 8.10795 16.0737 8.46591 15.9487 8.89773L12.5908 8.625C12.7612 7.82955 13.0964 7.14205 13.5964 6.5625C14.0964 5.97727 14.7413 5.52841 15.5311 5.21591C16.3266 4.89773 17.247 4.73864 18.2925 4.73864C19.0197 4.73864 19.7158 4.82386 20.3805 4.99432C21.051 5.16477 21.6447 5.42898 22.1618 5.78693C22.6845 6.14489 23.0964 6.60511 23.3976 7.16761C23.6987 7.72443 23.8493 8.39205 23.8493 9.17045V18H20.4061V16.1847H20.3038C20.0936 16.5938 19.8124 16.9545 19.4601 17.267C19.1078 17.5739 18.6845 17.8153 18.1902 17.9915C17.6959 18.1619 17.1249 18.2472 16.4771 18.2472ZM17.5169 15.7415C18.051 15.7415 18.5226 15.6364 18.9317 15.4261C19.3408 15.2102 19.6618 14.9205 19.8947 14.5568C20.1277 14.1932 20.2442 13.7812 20.2442 13.321V11.9318C20.1305 12.0057 19.9743 12.0739 19.7754 12.1364C19.5822 12.1932 19.3635 12.2472 19.1192 12.2983C18.8749 12.3437 18.6305 12.3864 18.3862 12.4261C18.1419 12.4602 17.9203 12.4915 17.7214 12.5199C17.2953 12.5824 16.9232 12.6818 16.605 12.8182C16.2868 12.9545 16.0396 13.1392 15.8635 13.3722C15.6874 13.5994 15.5993 13.8835 15.5993 14.2244C15.5993 14.7188 15.7783 15.0966 16.1362 15.358C16.4999 15.6136 16.9601 15.7415 17.5169 15.7415ZM31.2291 4.90909V7.63636H23.3456V4.90909H31.2291ZM25.1354 1.77273H28.7661V13.9773C28.7661 14.3125 28.8172 14.5739 28.9195 14.7614C29.0217 14.9432 29.1638 15.071 29.3456 15.1449C29.5331 15.2187 29.749 15.2557 29.9933 15.2557C30.1638 15.2557 30.3342 15.2415 30.5047 15.2131C30.6751 15.179 30.8058 15.1534 30.8967 15.1364L31.4678 17.8381C31.2859 17.8949 31.0303 17.9602 30.7007 18.0341C30.3712 18.1136 29.9706 18.1619 29.499 18.179C28.624 18.2131 27.857 18.0966 27.1979 17.8295C26.5445 17.5625 26.0359 17.1477 25.6723 16.5852C25.3087 16.0227 25.1297 15.3125 25.1354 14.4545V1.77273ZM40.7311 5.56534C40.6629 4.87784 40.3703 4.34375 39.8533 3.96307C39.3362 3.58239 38.6345 3.39204 37.7482 3.39204C37.1459 3.39204 36.6374 3.47727 36.2226 3.64773C35.8078 3.8125 35.4896 4.04261 35.268 4.33807C35.0521 4.63352 34.9442 4.96875 34.9442 5.34375C34.9328 5.65625 34.9982 5.92898 35.1402 6.16193C35.2879 6.39489 35.4896 6.59659 35.7453 6.76705C36.001 6.93182 36.2964 7.0767 36.6317 7.2017C36.9669 7.32102 37.3249 7.4233 37.7055 7.50852L39.2737 7.88352C40.0351 8.05398 40.7339 8.28125 41.3703 8.56534C42.0067 8.84943 42.5578 9.19886 43.0237 9.61364C43.4896 10.0284 43.8504 10.517 44.1061 11.0795C44.3675 11.642 44.501 12.2869 44.5067 13.0142C44.501 14.0824 44.2283 15.0085 43.6885 15.7926C43.1544 16.571 42.3817 17.1761 41.3703 17.608C40.3646 18.0341 39.1516 18.2472 37.7311 18.2472C36.322 18.2472 35.0947 18.0312 34.0493 17.5994C33.0095 17.1676 32.197 16.5284 31.6118 15.6818C31.0322 14.8295 30.7283 13.7756 30.6999 12.5199H34.2709C34.3107 13.1051 34.4783 13.5937 34.7737 13.9858C35.0749 14.3722 35.4754 14.6648 35.9754 14.8636C36.4811 15.0568 37.0521 15.1534 37.6885 15.1534C38.3135 15.1534 38.8561 15.0625 39.3163 14.8807C39.7822 14.6989 40.143 14.446 40.3987 14.1222C40.6544 13.7983 40.7822 13.4261 40.7822 13.0057C40.7822 12.6136 40.6658 12.2841 40.4328 12.017C40.2055 11.75 39.8703 11.5227 39.4271 11.3352C38.9896 11.1477 38.4527 10.9773 37.8163 10.8239L35.9158 10.3466C34.4442 9.98864 33.2822 9.42898 32.43 8.66761C31.5777 7.90625 31.1544 6.88068 31.1601 5.59091C31.1544 4.53409 31.4357 3.6108 32.0038 2.82102C32.5777 2.03125 33.3646 1.41477 34.3646 0.971591C35.3646 0.528409 36.501 0.306818 37.7737 0.306818C39.0692 0.306818 40.1999 0.528409 41.1658 0.971591C42.1374 1.41477 42.893 2.03125 43.4328 2.82102C43.9726 3.6108 44.251 4.52557 44.268 5.56534H40.7311ZM50.4355 18.2557C49.0946 18.2557 47.9412 17.9716 46.9753 17.4034C46.0151 16.8295 45.2764 16.0341 44.7594 15.017C44.248 14 43.9923 12.8295 43.9923 11.5057C43.9923 10.1648 44.2509 8.98864 44.7679 7.97727C45.2906 6.96023 46.0321 6.16761 46.9923 5.59943C47.9526 5.02557 49.0946 4.73864 50.4185 4.73864C51.5605 4.73864 52.5605 4.94602 53.4185 5.36079C54.2764 5.77557 54.9554 6.35795 55.4554 7.10795C55.9554 7.85795 56.231 8.73864 56.2821 9.75H52.856C52.7594 9.09659 52.5037 8.57102 52.0889 8.1733C51.6798 7.76989 51.1429 7.56818 50.4781 7.56818C49.9156 7.56818 49.4241 7.72159 49.0037 8.02841C48.5889 8.32955 48.2651 8.76989 48.0321 9.34943C47.7991 9.92898 47.6827 10.6307 47.6827 11.4545C47.6827 12.2898 47.7963 13 48.0236 13.5852C48.2565 14.1705 48.5832 14.6165 49.0037 14.9233C49.4241 15.2301 49.9156 15.3835 50.4781 15.3835C50.8929 15.3835 51.2651 15.2983 51.5946 15.1278C51.9298 14.9574 52.2054 14.7102 52.4213 14.3864C52.6429 14.0568 52.7878 13.6619 52.856 13.2017H56.2821C56.2253 14.2017 55.9526 15.0824 55.4639 15.8438C54.981 16.5994 54.3134 17.1903 53.4611 17.6165C52.6088 18.0426 51.6003 18.2557 50.4355 18.2557ZM59.9396 18.2472C59.1044 18.2472 58.3601 18.1023 57.7067 17.8125C57.0533 17.517 56.5362 17.0824 56.1555 16.5085C55.7805 15.929 55.593 15.2074 55.593 14.3438C55.593 13.6165 55.7266 13.0057 55.9936 12.5114C56.2607 12.017 56.6243 11.6193 57.0845 11.3182C57.5447 11.017 58.0675 10.7898 58.6527 10.6364C59.2436 10.483 59.8629 10.375 60.5107 10.3125C61.272 10.233 61.8857 10.1591 62.3516 10.0909C62.8175 10.017 63.1555 9.90909 63.3658 9.76705C63.576 9.625 63.6811 9.41477 63.6811 9.13636V9.08523C63.6811 8.54545 63.5107 8.12784 63.1697 7.83239C62.8345 7.53693 62.3572 7.3892 61.7379 7.3892C61.0845 7.3892 60.5646 7.53409 60.1783 7.82386C59.7919 8.10795 59.5362 8.46591 59.4112 8.89773L56.0533 8.625C56.2237 7.82955 56.5589 7.14205 57.0589 6.5625C57.5589 5.97727 58.2038 5.52841 58.9936 5.21591C59.7891 4.89773 60.7095 4.73864 61.755 4.73864C62.4822 4.73864 63.1783 4.82386 63.843 4.99432C64.5135 5.16477 65.1072 5.42898 65.6243 5.78693C66.147 6.14489 66.5589 6.60511 66.8601 7.16761C67.1612 7.72443 67.3118 8.39205 67.3118 9.17045V18H63.8686V16.1847H63.7663C63.5561 16.5938 63.2749 16.9545 62.9226 17.267C62.5703 17.5739 62.147 17.8153 61.6527 17.9915C61.1584 18.1619 60.5874 18.2472 59.9396 18.2472ZM60.9794 15.7415C61.5135 15.7415 61.9851 15.6364 62.3942 15.4261C62.8033 15.2102 63.1243 14.9205 63.3572 14.5568C63.5902 14.1932 63.7067 13.7812 63.7067 13.321V11.9318C63.593 12.0057 63.4368 12.0739 63.2379 12.1364C63.0447 12.1932 62.826 12.2472 62.5817 12.2983C62.3374 12.3437 62.093 12.3864 61.8487 12.4261C61.6044 12.4602 61.3828 12.4915 61.1839 12.5199C60.7578 12.5824 60.3857 12.6818 60.0675 12.8182C59.7493 12.9545 59.5021 13.1392 59.326 13.3722C59.1499 13.5994 59.0618 13.8835 59.0618 14.2244C59.0618 14.7188 59.2408 15.0966 59.5987 15.358C59.9624 15.6136 60.4226 15.7415 60.9794 15.7415ZM71.3592 10.4318V18H67.7285V4.90909H71.1888V7.21875H71.3422C71.632 6.45739 72.1178 5.85511 72.7996 5.41193C73.4814 4.96307 74.3081 4.73864 75.2797 4.73864C76.1888 4.73864 76.9814 4.9375 77.6575 5.33523C78.3337 5.73295 78.8592 6.30114 79.2342 7.03977C79.6092 7.77273 79.7967 8.64773 79.7967 9.66477V18H76.1661V10.3125C76.1717 9.51136 75.9672 8.88636 75.5524 8.4375C75.1376 7.98295 74.5666 7.75568 73.8393 7.75568C73.3507 7.75568 72.9189 7.8608 72.5439 8.07102C72.1746 8.28125 71.8848 8.58807 71.6746 8.99148C71.47 9.3892 71.3649 9.86932 71.3592 10.4318ZM80.3264 18V0.545454H87.2128C88.5366 0.545454 89.6645 0.798295 90.5963 1.30398C91.5281 1.80398 92.2383 2.5 92.727 3.39204C93.2213 4.27841 93.4685 5.30114 93.4685 6.46023C93.4685 7.61932 93.2185 8.64205 92.7185 9.52841C92.2185 10.4148 91.494 11.1051 90.5452 11.5994C89.602 12.0937 88.4599 12.3409 87.119 12.3409H82.7298V9.38352H86.5224C87.2327 9.38352 87.8179 9.26136 88.2781 9.01705C88.744 8.76705 89.0906 8.4233 89.3179 7.9858C89.5508 7.54261 89.6673 7.03409 89.6673 6.46023C89.6673 5.88068 89.5508 5.375 89.3179 4.94318C89.0906 4.50568 88.744 4.16761 88.2781 3.92898C87.8122 3.68466 87.2213 3.5625 86.5054 3.5625H84.0168V18H80.3264ZM96.7787 18.2472C95.9435 18.2472 95.1992 18.1023 94.5457 17.8125C93.8923 17.517 93.3753 17.0824 92.9946 16.5085C92.6196 15.929 92.4321 15.2074 92.4321 14.3438C92.4321 13.6165 92.5656 13.0057 92.8327 12.5114C93.0997 12.017 93.4634 11.6193 93.9236 11.3182C94.3838 11.017 94.9065 10.7898 95.4918 10.6364C96.0827 10.483 96.702 10.375 97.3497 10.3125C98.1111 10.233 98.7247 10.1591 99.1906 10.0909C99.6565 10.017 99.9946 9.90909 100.205 9.76705C100.415 9.625 100.52 9.41477 100.52 9.13636V9.08523C100.52 8.54545 100.35 8.12784 100.009 7.83239C99.6736 7.53693 99.1963 7.3892 98.577 7.3892C97.9236 7.3892 97.4037 7.53409 97.0173 7.82386C96.631 8.10795 96.3753 8.46591 96.2503 8.89773L92.8923 8.625C93.0628 7.82955 93.398 7.14205 93.898 6.5625C94.398 5.97727 95.0429 5.52841 95.8327 5.21591C96.6281 4.89773 97.5486 4.73864 98.594 4.73864C99.3213 4.73864 100.017 4.82386 100.682 4.99432C101.353 5.16477 101.946 5.42898 102.463 5.78693C102.986 6.14489 103.398 6.60511 103.699 7.16761C104 7.72443 104.151 8.39205 104.151 9.17045V18H100.708V16.1847H100.605C100.395 16.5938 100.114 16.9545 99.7617 17.267C99.4094 17.5739 98.9861 17.8153 98.4918 17.9915C97.9974 18.1619 97.4264 18.2472 96.7787 18.2472ZM97.8185 15.7415C98.3526 15.7415 98.8242 15.6364 99.2332 15.4261C99.6423 15.2102 99.9634 14.9205 100.196 14.5568C100.429 14.1932 100.546 13.7812 100.546 13.321V11.9318C100.432 12.0057 100.276 12.0739 100.077 12.1364C99.8838 12.1932 99.6651 12.2472 99.4207 12.2983C99.1764 12.3437 98.9321 12.3864 98.6878 12.4261C98.4435 12.4602 98.2219 12.4915 98.023 12.5199C97.5969 12.5824 97.2247 12.6818 96.9065 12.8182C96.5884 12.9545 96.3412 13.1392 96.1651 13.3722C95.9889 13.5994 95.9009 13.8835 95.9009 14.2244C95.9009 14.7188 96.0798 15.0966 96.4378 15.358C96.8014 15.6136 97.2617 15.7415 97.8185 15.7415ZM106.34 22.9091C105.88 22.9091 105.448 22.8722 105.045 22.7983C104.647 22.7301 104.318 22.642 104.056 22.5341L104.874 19.8239C105.301 19.9545 105.684 20.0256 106.025 20.0369C106.372 20.0483 106.67 19.9688 106.92 19.7983C107.176 19.6278 107.383 19.3381 107.542 18.929L107.755 18.375L103.059 4.90909H106.877L109.588 14.5227H109.724L112.46 4.90909H116.303L111.215 19.4148C110.971 20.1193 110.639 20.733 110.218 21.2557C109.803 21.7841 109.278 22.1903 108.641 22.4744C108.005 22.7642 107.238 22.9091 106.34 22.9091Z"
            fill="#EB7F00"
          />
        </svg>
      </div>
      <div className={s.header__wrapper}>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            onClick={openNotificate}
          >
            <g id="room-service">
              <path
                id="Vector"
                d="M12 5C12.5304 5 13.0391 5.21071 13.4142 5.58579C13.7893 5.96086 14 6.46957 14 7C14 7.24 13.96 7.47 13.88 7.69C17.95 8.5 21 11.91 21 16H3C3 11.91 6.05 8.5 10.12 7.69C10.04 7.47 10 7.24 10 7C10 6.46957 10.2107 5.96086 10.5858 5.58579C10.9609 5.21071 11.4696 5 12 5ZM22 19H2V17H22V19Z"
                fill="black"
              />
            </g>
          </svg>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
           onClick={changSearch}>
            <g id="magnify">
              <path
                id="Vector"
                d="M9.5 3C11.2239 3 12.8772 3.68482 14.0962 4.90381C15.3152 6.12279 16 7.77609 16 9.5C16 11.11 15.41 12.59 14.44 13.73L14.71 14H15.5L20.5 19L19 20.5L14 15.5V14.71L13.73 14.44C12.59 15.41 11.11 16 9.5 16C7.77609 16 6.12279 15.3152 4.90381 14.0962C3.68482 12.8772 3 11.2239 3 9.5C3 7.77609 3.68482 6.12279 4.90381 4.90381C6.12279 3.68482 7.77609 3 9.5 3ZM9.5 5C7 5 5 7 5 9.5C5 12 7 14 9.5 14C12 14 14 12 14 9.5C14 7 12 5 9.5 5Z"
                fill="black"
              />
            </g>
          </svg>
      </div>
      <div className={`${s.header__search} ${search ? `${s.header__searchOpen}` : ''}` }>
        <Search changState={changSearch}/>
      </div>
      <div className={`${s.header__menu} ${menu ? `${s.header__menuhOpen}` : ''}` }>
        <Openedmenu changState={changMenu}/>
      </div>
    </header>
  );
}
